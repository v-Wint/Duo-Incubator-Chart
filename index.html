<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>Duolingo Incubator Languages</title>

<link href='http://fonts.googleapis.com/css?family=Fira+Sans:400,700' rel='stylesheet' type='text/css'>

<style type="text/css">

body {
	font-family: 'Fira Sans', sans-serif;
	padding-top: 20px;
	text-align: center;
}

</style>



<script language="Javascript" type="text/javascript">

var canvas_width = 1920;
var canvas_height = 700;
var padding = 75;
var gutter = 6;
var sources = {};
var languages_by_code = {};

var languages = [["ar", "Arabic", "flag-ar.png"],
								 ["bn", "Bengali", "flag-bn.png"],
								 ["ca", "Catalan", "flag-ca.png"],
								 ["zh-CN", "Chinese", "flag-zh-CN.png"],
								 ["cs", "Czech", "flag-cs.png"],
								 ["da", "Danish", "flag-da.png"],
								 ["nl-NL", "Dutch", "flag-nl-NL.png"],
								 ["en", "English", "flag-en.png"],
								 ["eo", "Esper…", "flag-eo.png"],
								 ["fi", "Finnish", "flag-fi.png"],
								 ["fr", "French", "flag-fr.png"],
								 ["de", "German", "flag-de.png"],
								 ["el", "Greek", "flag-el.png"],
								 ["gn", "Guarani", "flag-gn.png"],
								 ["ht", "Haitian", "flag-egg.png"],
								 ["haw", "Hawai…", "flag-haw.png"],
								 ["he", "Hebrew", "flag-he.png"],
								 ["hi", "Hindi", "flag-hi.png"],
								 ["hu", "Hungar…", "flag-hu.png"],
								 ["id", "Indon…", "flag-id.png"],
								 ["ga", "Irish", "flag-ga.png"],
								 ["it", "Italian", "flag-it.png"],
								 ["ja", "Japan…", "flag-ja.png"],
								 ["tlh", "Klingon", "flag-tlh.png"],
								 ["ko", "Korean", "flag-ko.png"],
								 ["la", "Latin", "flag-egg.png"],
								 ["nv", "Navajo", "flag-nv.png"],
								 ["nb", "Norweg…", "flag-nb.png"],
								 ["pl", "Polish", "flag-pl.png"],
								 ["pt", "Portug…", "flag-pt.png"],
								 ["pa", "Punjabi", "flag-hi.png"],
								 ["ro", "Roman…", "flag-ro.png"],
								 ["ru", "Russian", "flag-ru.png"],
								 ["gd", "Scottish", "flag-egg.png"],
								 ["es", "Spanish", "flag-es.png"],
								 ["sw", "Swahili", "flag-sw.png"],
								 ["sv", "Swedish", "flag-sv.png"],
								 ["tl", "Tagalog", "flag-tl.png"],
								 ["ta", "Tamil", "flag-hi.png"],
								 ["te", "Telugu", "flag-hi.png"],
								 ["th", "Thai", "flag-th.png"],
								 ["tr", "Turkish", "flag-tr.png"],
								 ["uk", "Ukrain…", "flag-uk.png"],
								 ["valyrian", "Valyrian", "flag-valyrian.png"],
								 ["vi", "Vietna…", "flag-vi.png"],
								 ["cy", "Welsh", "flag-cy.png"],
								 ["yi", "Yiddish", "flag-egg.png"]];
var phase_1 = [["zh-CN", "ja"],
							 ["en", "bn"],
							 ["en", "pa"],
							 ["en", "tl"],
							 ["en", "ta"],
							 ["en", "te"],
							 ["fi", "en"],
							 ["fr", "tr"],
							 ["de", "nl-NL"],
							 ["de", "zh-CN"],
							 ["ht", "en"],
							 ["gd", "en"],
							 ["es", "ar"],
							 ["sv", "ru"],
							 ["sv", "tr"],
							 ["yi", "en"]];
var phase_2 = [["eo", "pt"],
							 ["hu", "en"],
							 ["it", "zh-CN"],
							 ["tlh", "en"],
							 ["la", "en"],
							 ["nv", "en"],
							 ["sv", "es"]];
var phase_3 = [["ar", "en"],
							 ["ca", "es"],
							 ["zh-CN", "en"],
							 ["cs", "en"],
							 ["da", "en"],
							 ["nl-NL", "en"],
							 ["en", "ar"],
							 ["en", "zh-CN"],
							 ["en", "cs"],
							 ["en", "nl-NL"],
							 ["en", "fr"],
							 ["en", "de"],
							 ["en", "pl"],
							 ["en", "pt"],
							 ["en", "vi"],
							 ["en", "hi"],
							 ["en", "tr"],
							 ["en", "ja"],
							 ["en", "ro"],
							 ["en", "el"],
							 ["en", "it"],
							 ["en", "ko"],
							 ["en", "ru"],
							 ["en", "id"],
							 ["en", "th"],
							 ["en", "cs"],
							 ["en", "uk"],
							 ["en", "es"],
							 ["en", "hu"],
							 ["eo", "en"],
							 ["eo", "es"],
							 ["fr", "en"],
							 ["fr", "zh-CN"],
							 ["fr", "it"],
							 ["fr", "es"],
							 ["fr", "ar"],
							 ["fr", "pt"],
							 ["fr", "ru"],
							 ["fr", "de"],
							 ["de", "en"],
							 ["de", "pt"],
							 ["de", "ar"],
							 ["de", "tr"],
							 ["de", "fr"],
							 ["de", "it"],
							 ["de", "es"],
							 ["de", "ru"],
							 ["el", "en"],
							 ["gn", "es"],
							 ["haw", "en"],
							 ["he", "en"],
							 ["hi", "en"],
							 ["id", "en"],
							 ["ga", "en"],
							 ["it", "pt"],
							 ["it", "en"],
							 ["it", "fr"],
							 ["it", "es"],
							 ["ja", "en"],
							 ["ja", "zh-CN"],
							 ["ko", "zh-CN"],
							 ["ko", "en"],
							 ["nb", "en"],
							 ["pl", "en"],
							 ["pt", "en"],
							 ["pt", "es"],
							 ["pt", "fr"],
							 ["ro", "en"],
							 ["ru", "en"],
							 ["ru", "es"],
							 ["ru", "tr"],
							 ["es", "en"],
							 ["es", "pt"],
							 ["es", "fr"],
							 ["es", "ru"],
							 ["es", "zh-CN"],
							 ["es", "de"],
							 ["es", "it"],
							 ["sw", "en"],
							 ["sv", "ar"],
							 ["sv", "en"],
							 ["tr", "en"],
							 ["uk", "en"],
							 ["valyrian", "en"],
							 ["vi", "en"],
							 ["cy", "en"]];

function drawBox(){
	var canvas = document.getElementById('box');
	
	// Run if canvas is supported
	if (canvas.getContext){
		var ctx = canvas.getContext('2d');
		
		var col_width = (canvas_width - (padding * 2) - (gutter * (languages.length - 1))) / languages.length;
		
		// Fill background
		ctx.fillStyle = "#eeeeee";
		ctx.fillRect(0,0,canvas_width,canvas_height);

		
		// Head
		var baseline = 35;
		ctx.fillStyle = "rgb(80,80,80)";
		ctx.font = "bold 16px 'Fira Sans', sans-serif";
		ctx.fillText("Duolingo Incubator. Languages as of September 26, 2019.", 25, baseline);
		
		// To and From Labels
		baseline = canvas_height - (padding - 14);
		ctx.fillStyle = "rgb(80,80,80)";
		ctx.font = "bold 12px 'Fira Sans', sans-serif";
		ctx.fillText("From:", 25, (padding - 8));
		ctx.fillText("To:", 25, baseline);
		
		// Phase Labels		
		baseline = canvas_height - 25;
		ctx.fillStyle = "rgb(120,120,120)";
		ctx.fillText("Phase 1", 50, baseline);
		ctx.fillText("Phase 2", 150, baseline);
		ctx.fillText("Phase 3", 250, baseline);
		
		// Phase lines
		baseline = canvas_height - 29;
		ctx.lineWidth = 2;
		ctx.strokeStyle = "rgb(200,200,200)";
		ctx.beginPath();
		ctx.moveTo(25, baseline);
		ctx.lineTo(45, baseline);
		ctx.stroke();
		
		ctx.strokeStyle = "rgb(126, 181, 48)";
		ctx.beginPath();
		ctx.moveTo(125, baseline);
		ctx.lineTo(145, baseline);
		ctx.stroke();
		
		ctx.strokeStyle = "rgb(20, 147, 209)";
		ctx.beginPath();
		ctx.moveTo(225, baseline);
		ctx.lineTo(245, baseline);
		ctx.stroke();
		
		// Color for language names
		ctx.fillStyle = "rgb(100,100,100)";
		ctx.lineWidth = 1;
				
		for ( var i = 0, l = languages.length; i < l; i++ ) {
      sources[languages[i][0]] = "flags/" + languages[i][2];
      languages_by_code[languages[i][0]] = i;
			languages[i][3] = padding + ((col_width + gutter) * i) + (col_width/2);
			languages[i].push(padding + col_width);
			ctx.font = "400 9px 'Fira Sans', sans-serif";
			ctx.textAlign = "center";
			ctx.fillText(languages[i][1], languages[i][3], (padding - 8));
			ctx.fillText(languages[i][1], languages[i][3], canvas_height - (padding - 14));
		}
		
    loadImages(sources, function(images) {
			for ( var i = 0, l = languages.length; i < l; i++ ) {
      	ctx.drawImage(images[languages[i][0]], (padding + ((col_width + gutter) * i)), padding, col_width, col_width);
      	ctx.drawImage(images[languages[i][0]], (padding + ((col_width + gutter) * i)), (canvas_height - padding - col_width), col_width, col_width);
      }
		});
		
		
		// Draw Phase 1
		drawLines(ctx, phase_1, "rgb(200, 200, 200");
		
		// Draw Phase 2
		drawLines(ctx, phase_2, "rgb(126, 181, 48)");
		
		// Draw Phase 3
		drawLines(ctx, phase_3, "rgb(20, 147, 209)");

	}
}

function loadImages(sources, callback) {
  var images = {};
  var loadedImages = 0;
  var numImages = 0;
  // get num of sources 
  for(var src in sources) {
    numImages++;
  }
  for(var src in sources) {
    images[src] = new Image();
    images[src].onload = function() {
      if(++loadedImages >= numImages) {
        callback(images);
      }
    };
    images[src].src = sources[src];
  }
}

function drawLines(ctx, phase, color) {
	ctx.beginPath();
	ctx.strokeStyle = color;
	for ( var i = 0, l = phase.length; i < l; i++ ) {
		var sx = languages[languages_by_code[phase[i][1]]][3];
		var sy = languages[languages_by_code[phase[i][1]]][4];
		var ex = languages[languages_by_code[phase[i][0]]][3];
		var ey = canvas_height - languages[languages_by_code[phase[i][0]]][4];
     ctx.moveTo(sx, sy);
     ctx.lineTo(ex, ey);
	}
	ctx.stroke();
}


</script>

</head>

<body onload="drawBox();">

<canvas id="box" width="1920" height="700"></canvas>

</body>
</html>